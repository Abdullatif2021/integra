<app-user-nav></app-user-nav>
<div class="container-fluid page-container">
  <div class="row mt-2">
    <div class="col-4 v-wide-col">
      <div class="schedule-nav">
        <button class="btn schedule-nav-btn schedule-nav-left-btn" [ngClass]="{'active': activeTab('/schedule/'+preDispatch)}" routerLink="/schedule/{{preDispatch}}">Indirizzi</button>
        <button class="btn schedule-nav-btn" [ngClass]="{'active': activeTab('/schedule/'+preDispatch+'/toPlan')}" routerLink="/schedule/{{preDispatch}}/toPlan">Da pianificare</button>
        <button class="btn schedule-nav-btn" [ngClass]="{'active': activeTab('/schedule/'+preDispatch+'/parameters')}" routerLink="/schedule/{{preDispatch}}/parameters">Parametri</button>
        <button class="btn schedule-nav-btn schedule-nav-right-btn" [ngClass]="{'active': activeTab('/schedule/'+preDispatch+'/result')}" routerLink="/schedule/{{preDispatch}}/result">Risultato</button>
      </div>
    </div>
    <div class="col-8 v-wide-col">
      <div class="map-header">
        <div class="localizza-btn integraa-btn" (click)="locate()">Localizza</div>
        <div class="mote-to-in-plan-btn integraa-btn" (click)="moveToInPlan()">Move to in plan</div>
        <div class="continue-btn integraa-btn">Prosegui</div>
        <div class="clear-both"></div>
      </div>
    </div>
  </div>
  <div class="row mt-1">
    <div class="col-4 v-wide-col">
      <router-outlet></router-outlet>
    </div>
    <div class="col-8 v-wide-col">
      <agm-map class="map" [latitude]="40.8440337" [longitude]="14.3435834" [zoom]="11"></agm-map>
    </div>
  </div>
</div>

<ng-template  #modalRef let-modal>
  <div class="modal-container nFoundItemModal">
    <div class="modal-body">
      <h6>
        <fa-icon class="text-warning" [icon]="['fa','exclamation-triangle']"></fa-icon>
        The system was not able to locate ( <span class="text-warning font-size-13">{{nFoundItem.street}}, {{nFoundItem.houseNumber}}, {{nFoundItem.cap}}, {{nFoundItem.city}}</span> )
      </h6>
      <div class="mt-3">
        <div class="form-group">
          <label>Change address</label>
          <input #locationInput [disabled]="latLngInputState" type="text" class="form-control" placeholder="address">
        </div>
        <div class="form-group mb-1">
          <input id="lat-lng-input-activate" (change)="latLngInputActivate($event)" type="checkbox"> &nbsp;
          <label for="lat-lng-input-activate">Enter lat,lng instead </label>
        </div>
        <div class="row">
          <div class="col-6 col-xs-12">
            <input #latInput [disabled]="!latLngInputState" type="text" class="form-control" placeholder="latitude">
          </div>
          <div class="col-6 col-xs-12">
            <input #lngInput [disabled]="!latLngInputState" type="text" class="form-control" placeholder="longitude">
          </div>
        </div>
      </div>
      <div class="btns-container mt-3">
        <button type="button" (click)="modal.close();fixLocation(locationInput, latInput, lngInput)" class="integraa-btn ml-2 float-right" >Esegui</button>
        <button type="button" (click)="modal.close();skipLocatingItem()" class="integraa-btn integraa-btn-dark ml-2 float-right" >Skip</button>
        <div class="clear-both"></div>
      </div>
    </div>
  </div>
</ng-template>

